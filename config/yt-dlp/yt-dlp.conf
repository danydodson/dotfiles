# yt-dlp.conf

# Download settings
--quiet
--progress

# Metadata
--add-metadata 
--embed-metadata 

# Output
--newline 
--mtime

# Best available quality by merging best video and audio
--format bestvideo+bestaudio/best

# Set download directory (use ~, not $HOME)
--paths home:/Volumes/Public/web/

# Output filename template (path handled by --paths)
--output /Volumes/Public/web/%(title)s.%(ext)s

# Retries
--extractor-retries 4
--file-access-retries 4
--fragment-retries 4
--retries 4
--retry-sleep extractor:exp=4
--retry-sleep file_access:exp=4
--retry-sleep fragment:exp=4
--retry-sleep http:exp=4
--retry-sleep exp=4

--force-ipv4
--buffer-size 1M
--concurrent-fragments 4
--http-chunk-size 10M
--socket-timeout 4
--live-from-start
--geo-bypass-country US

--user-agent "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)"

# Use aria2c for HTTP/HTTPS downloads
--downloader http:aria2c
--downloader https:aria2c
--downloader-args aria2c:"--continue=true --max-concurrent-downloads=8 --max-connection-per-server=8 --split=8 --min-split-size=32M"

# Output settings
--windows-filenames
--restrict-filenames
--merge-output-format mkv
--remux-video webm>mkv/ogg>mkv/mkv>mkv/mp4>mp4

# Convert thumbnails to a single format (pick one)
--convert-thumbnails jpg

--audio-multistreams
--video-multistreams
--check-formats

--embed-chapters
--sponsorblock-mark all

--embed-subs
--write-auto-subs
--sub-format ass/srt/best
--sub-lang en.*,th